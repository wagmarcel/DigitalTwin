# baseURI: https://volkswagen.org/vass/v0.9/constraints
# imports: http://datashapes.org/dash
# imports: https://volkswagen.org/vass/v0.9/root
# imports: https://volkswagen.org/vass/v0.9/usecase

@prefix : <https://volkswagen.org/vass/v0.9/constraints#> .
@prefix dash: <http://datashapes.org/dash#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix root: <https://volkswagen.org/vass/v0.9/root#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix usecase: <https://volkswagen.org/vass/v0.9/usecase#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

<https://volkswagen.org/vass/v0.9/constraints>
  rdf:type owl:Ontology ;
  owl:imports <http://datashapes.org/dash> ;
  owl:imports <https://volkswagen.org/vass/v0.9/root> ;
  owl:imports <https://volkswagen.org/vass/v0.9/usecase> ;
  owl:versionInfo "Created with TopBraid Composer" ;
.
:PartShape
  rdf:type sh:NodeShape ;
  sh:property [
      rdf:type sh:PropertyShape ;
      sh:path usecase:hasPartType ;
      sh:maxCount 1 ;
      sh:minCount 1 ;
      sh:name "has part type" ;
      sh:nodeKind sh:BlankNode ;
      sh:property [
          sh:path <https://uri.etsi.org/ngsi-ld/hasValue> ;
          sh:class <https://volkswagen.org/vass/v0.9/ontology#Part> ;
          sh:maxCount 1 ;
          sh:minCount 1 ;
        ] ;
    ] ;
  sh:property [
      rdf:type sh:PropertyShape ;
      sh:path usecase:hasSerialNumber ;
      sh:maxCount 1 ;
      sh:minCount 1 ;
      sh:name "serial number" ;
      sh:nodeKind sh:BlankNode ;
      sh:property [
          sh:path <https://uri.etsi.org/ngsi-ld/hasValue> ;
          sh:maxCount 1 ;
          sh:pattern "^\\d{5}" ;
        ] ;
    ] ;
  sh:targetClass usecase:Part ;
.
:ProcessShape
  rdf:type sh:NodeShape ;
  sh:property [
      rdf:type sh:PropertyShape ;
      sh:path usecase:hasNumericalState ;
      sh:maxCount 1 ;
      sh:minCount 1 ;
      sh:name "has numerical state" ;
      sh:nodeKind sh:BlankNode ;
      sh:property [
          sh:path <https://uri.etsi.org/ngsi-ld/hasValue> ;
        ] ;
    ] ;
  sh:property [
      rdf:type sh:PropertyShape ;
      sh:path usecase:hasOutput ;
      sh:maxCount 1 ;
      sh:minCount 1 ;
      sh:name "is producing" ;
      sh:nodeKind sh:BlankNode ;
      sh:property [
          sh:path <https://uri.etsi.org/ngsi-ld/hasObject> ;
          sh:class usecase:Part ;
        ] ;
    ] ;
  sh:property [
      rdf:type sh:PropertyShape ;
      sh:path usecase:hasState ;
      sh:maxCount 1 ;
      sh:minCount 1 ;
      sh:name "process state" ;
      sh:nodeKind sh:BlankNode ;
      sh:property [
          sh:path <https://uri.etsi.org/ngsi-ld/hasValue> ;
          sh:class <https://volkswagen.org/vass/v0.9/ontology#ProcessStep> ;
          sh:nodeKind sh:IRI ;
        ] ;
    ] ;
  sh:targetClass usecase:Process ;
.
